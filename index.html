<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Math Quiz SPA</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 2rem;
      background-color: #f5f5f5;
      background-image: repeating-linear-gradient(
          45deg,
          transparent,
          transparent 20px,
          rgba(0, 0, 0, 0.03) 20px,
          rgba(0, 0, 0, 0.03) 40px
        ),
        url("data:image/svg+xml,%3Csvg width='80' height='80' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='0' y='20' font-size='20'%3E%2B%3C/text%3E%3Ctext x='40' y='20' font-size='20'%3E%E2%88%92%3C/text%3E%3Ctext x='0' y='60' font-size='20'%3E%C3%97%3C/text%3E%3Ctext x='40' y='60' font-size='20'%3E%C3%B7%3C/text%3E%3C/svg%3E");
      background-repeat: repeat;
      background-size: 80px 80px;
    }

    .container {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      max-width: 500px;
      margin: 0 auto;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    input {
      padding: 0.5rem;
      font-size: 1rem;
      width: 100px;
    }

    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      margin-top: 1rem;
      cursor: pointer;
    }

    .message {
      margin-top: 1rem;
      font-weight: bold;
    }

    .score {
      margin-top: 2rem;
      font-size: 1.2rem;
      color: #333;
    }

    #restartBtn {
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Math Quiz</h1>
    <div id="question">Loading...</div>
    <input type="number" id="answerInput" placeholder="Your answer" />
    <br>
    <button onclick="submitAnswer()">Submit</button>
    <div class="message" id="message"></div>
    <div class="score" id="score">Score: 0 / 10</div>
    <button id="restartBtn" onclick="restartQuiz()" style="display: none;">üîÅ Play Again</button>
  </div>

  <script>
    let questions = generateQuestions(10);
    let currentIndex = 0;
    let score = 0;
    let attempts = 0;

    const questionEl = document.getElementById("question");
    const messageEl = document.getElementById("message");
    const answerInput = document.getElementById("answerInput");
    const scoreEl = document.getElementById("score");
    const restartBtn = document.getElementById("restartBtn");
    const submitBtn = document.querySelector("button");

    function generateQuestions(count) {
      const questions = [];
      for (let i = 0; i < count; i++) {
        const x = Math.floor(Math.random() * 10) + 1; // x from 1 to 10
        const a = Math.floor(Math.random() * 5) + 1;  // a from 1 to 5
        const b = Math.floor(Math.random() * 10);     // b from 0 to 9
        const c = a * x + b;

        const question = {
          text: `${a}x + ${b} = ${c}`,
          answer: x
        };

        questions.push(question);
      }
      return questions;
    }

    function loadQuestion() {
      if (currentIndex >= questions.length) {
        questionEl.innerHTML = "üéì Quiz Finished!";
        let finalMessage = `Final Score: ${score} / ${questions.length}<br>`;

        if (score >= 8) {
          finalMessage += "üèÜ <strong>WAY TO GO!</strong>";
        } else if (score >= 6) {
          finalMessage += "üëç <strong>SO CLOSE!</strong>";
        } else {
          finalMessage += "üòä <strong>Good attempt! Let's try again.</strong>";
        }

        messageEl.innerHTML = finalMessage;
        answerInput.style.display = "none";
        submitBtn.style.display = "none";
        restartBtn.style.display = "inline-block";
        scoreEl.style.display = "none";
        return;
      }

      const q = questions[currentIndex];
      questionEl.innerHTML = `Question ${currentIndex + 1}: Solve for x<br><strong>${q.text}</strong>`;
      answerInput.value = '';
      messageEl.innerHTML = '';
      attempts = 0;
    }

    function submitAnswer() {
      const userAnswer = parseInt(answerInput.value);
      const correctAnswer = questions[currentIndex].answer;

      if (isNaN(userAnswer)) {
        messageEl.innerHTML = "Please enter a number.";
        return;
      }

      if (userAnswer === correctAnswer) {
        score++;
        messageEl.innerHTML = "‚úÖ Correct!";
        updateScore();
        currentIndex++;
        setTimeout(loadQuestion, 1000);
      } else {
        attempts++;
        if (attempts < 3) {
          messageEl.innerHTML = `‚ùå Incorrect. Try again. (${3 - attempts} attempts left)`;
        } else {
          messageEl.innerHTML = `‚ùå Incorrect. The correct answer was ${correctAnswer}.`;
          currentIndex++;
          setTimeout(loadQuestion, 2000);
        }
      }
    }

    function updateScore() {
      scoreEl.innerHTML = `Score: ${score} / 10`;
    }

    function restartQuiz() {
      score = 0;
      currentIndex = 0;
      attempts = 0;
      questions = generateQuestions(10);

      answerInput.style.display = "inline-block";
      submitBtn.style.display = "inline-block";
      restartBtn.style.display = "none";

      updateScore();
      loadQuestion();
    }

    // Start the quiz
    loadQuestion();
  </script>
</body>
</html>


